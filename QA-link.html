<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="referrer" content="no-referrer" />

  ta
<title>P6-QA Login</title>
<link href="/wds/common/images/common/favicon.ico" rel="shortcut icon" />
<script type="text/javascript" src="/wds/common/js/jQuery.js"></script>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="/wds/common/js/jquery.cookie.js"></script>

<script type="text/javascript">

var operationUserId = 'm.malik';
var operationUserEmail = 'm.malik@samsung.com';


//imgHover
function imgHover(obj) {
	$(obj).each(function() {

		var $image = $(this).find("img");
		var imgOn = $image.attr("src").replace("_off","_on");
		var imgOff = $image.attr("src").replace("_on","_off");

		$image.hover(
			function() {
				$image.attr("src", imgOn);
			},
			function() {
				$image.attr("src", imgOff);
			}
		);
	});
}

function signOut(){
	/*
	var frm = document.getElementById("logoutForm");
	frm.action = "http://partnerlogin.samsungelectronics.com/common/sso_user_logout.jsp?RE_URL=https://wds.samsung.com/wds/sso/login/forwardSsoLogout.do";
	frm.method = "get";
	frm.submit();
	*/
	
	document.location.href = "http://partnerlogin.samsungelectronics.com/common/sso_user_logout.jsp?RE_URL=https://wds.samsung.com/wds/sso/login/forwardSsoLogout.do";
}

function insertUserConnectLog(operationUserId, loginType){
	$.ajax({
        type: 'POST',
        url: "/wds/sso/login/insertUserConnectLog?mType=xml",
        data : {
        	operationUserId : operationUserId,
        	loginType : loginType
        },
        error      : function(xhr,st,err){
        	console.log(xhr);
        	console.log(st);
        	console.log(err);
	    },
	    success		: function(responseText, statusText, xhr, $form) {
	    	//console.log(responseText);
	    }
	}); 
};

function goLink(target){
	
	var frm = document.getElementById("loginForm");
	
	if(target == 'nwcms'){
		insertUserConnectLog(operationUserId, 'wcms');
		frm.action = "https://wcms4.samsung.com/iw-sec/wmcLoginSSL.do";
	}else if(target == 'wds'){
		insertUserConnectLog(operationUserId, 'wds');
		frm.action = "https://wds.samsung.com/wds-p5/";
	}else if(target == 'b2c-b2b') {
		insertUserConnectLog(operationUserId, 'b2c-b2b');
		frm.action = "https://aem.samsung.com/aemapi/user/login_sso";
	}else if(target == 'support') {
		insertUserConnectLog(operationUserId, 'support');
		frm.action = "https://aem-support.samsung.com/aemapi/user/login_sso";
	}else if(target == 'b2c-b2b-eu') {
		insertUserConnectLog(operationUserId, 'b2c-b2b-eu');
		frm.action = "https://aem-eu.samsung.com/aemapi/user/login_sso";
	}else if(target == 'support-eu') {
		insertUserConnectLog(operationUserId, 'support-eu');
		frm.action = "https://aem-eu-support.samsung.com/aemapi/user/login_sso";
	}else if(target == 'semi-led') {
		insertUserConnectLog(operationUserId, 'semi-led');
		frm.action = "https://aem-semi.samsung.com/aemapi/user/login_sso";
	}else if(target == 'c-hub') {
		insertUserConnectLog(operationUserId, 'c-hub');
		frm.action = "https://aem-c-hub.samsung.com/aemapi/user/login_sso";
	}else if(target == 'new-shop') {
		insertUserConnectLog(operationUserId, 'new-shop');
		frm.action = "https://aem-shop.samsung.com/aemapi/user/login_sso";
	}else if(target == 'new-shop-eu') {
		insertUserConnectLog(operationUserId, 'new-shop-eu');
		frm.action = "https://aem-eu-shop.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-b2c-global') {
		insertUserConnectLog(operationUserId, 'b2c-global');
		frm.action = "https://p6-ap-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-support') {
		insertUserConnectLog(operationUserId, 'p6-support');
		frm.action = "https://p6spp-ap-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-b2c-eu') {
		insertUserConnectLog(operationUserId, 'b2c-eu');
		frm.action = "https://p6-eu-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-support-eu') {
		insertUserConnectLog(operationUserId, 'support6eu');
		frm.action = "https://p6spp-eu-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-b2c-america') {
		insertUserConnectLog(operationUserId, 'b2c-us');
		frm.action = "https://p6-us-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-qa') {
		insertUserConnectLog(operationUserId, 'p6-qa');
		frm.action = "https://p6-qa.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-preqa') {
		insertUserConnectLog(operationUserId, 'p6-preqa');
		frm.action = "https://p6-pre-qa.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-preqa2') {
		insertUserConnectLog(operationUserId, 'p6-preqa2');
		frm.action = "https://p6-pre-qa2.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-support-us') {
		insertUserConnectLog(operationUserId, 'support6us');
		frm.action = "https://p6spp-us-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-jira') {
		insertUserConnectLog(operationUserId, 'p6-jira');
		frm.action = "https://jira.secext.samsung.net";
	}else if(target == 'p6-guide') {
		insertUserConnectLog(operationUserId, 'p6-guide');
		//frm.action = "https://op-cfl.samsung.com/display/TS/Samsung.com+Guides";
	}else if(target == 'review-board') {
		insertUserConnectLog(operationUserId, 'review-board');
		frm.action = "http://35.223.175.49";
	}else if(target == 'jira-req') {
		insertUserConnectLog(operationUserId, 'jira-req');
		return false;
	}else if(target == 'p6-b2c-cn') {
		//cn domain change(/cn->.cn) : 23.11.19
		insertUserConnectLog(operationUserId, 'p6-b2c-cn');
		frm.action = "https://p6-ap-author.samsung.com.cn/aemapi/user/login_sso";
	}else if(target == 'p6-support-cn') {
		//cn domain change(/cn->.cn) : 23.11.19
		insertUserConnectLog(operationUserId, 'p6-support-cn');
		frm.action = "https://p6spp-ap-author.samsung.com.cn/aemapi/user/login_sso";
	}
	else if(target == 'p6-auth') {
		
		if(operationUserEmail == null || operationUserEmail == ""){
			alert("There is no email information.\rPlease inquire to HQ ITC.")
			return false;
		}
		
		$.ajax({
	        type: 'get',
	        url: "/wds/authrity/p6/usercheck",
	        data : {
	        	userEmail : operationUserEmail,
	        	mType : 'json'
	        },
	        dataType:	"json",
	        error      : function(xhr,st,err){
	        	console.log(xhr);
	        	console.log(st);
	        	console.log(err);
	        	alert("Error Occured. Please inquire to HQ ITC.")
		    },
		    success		: function(data, statusText, xhr, $form) {
		    
		    	if(data != null && data.model != null ){
		    		if(data.model.xmlData.rcode == "200"){
		    			
		    			window.open("http://wds.samsung.com/redmine/projects/aem-authority-request-p6/issues/new")
		    			
		    		}else if(data.model.xmlData.rcode == "1403"){
		    			alert("P6 access approval is required for authority request. For P6 access, inquire to HQ ITC."+"("+data.model.xmlData.rcode+")")
		    		}else{
		    			alert("Your account is not exists on P6 AEM Server. Please inquire to HQ ITC."+"("+data.model.xmlData.rcode+")")
			    	}
		    	}else{
		    		alert("Your account is not exists on P6 AEM Server. Please inquire to HQ ITC.")
		    	}
		    	
		    }
		}); 
		
		
		return false;
	}else if(target == 'p6-dev-aem') {
		insertUserConnectLog(operationUserId, 'p6-dev-aem');
		frm.action = "https://d6-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-dev-qa') {
		insertUserConnectLog(operationUserId, 'p6-dev-qa');
		frm.action = "https://d6-qa.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-dev-pub') {
		insertUserConnectLog(operationUserId, 'p6-dev-pub');
		frm.action = "https://d6-live.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-stg-aem') {
		insertUserConnectLog(operationUserId, 'p6-stg-aem');
		frm.action = "https://s6-author.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-stg-qa') {
		insertUserConnectLog(operationUserId, 'p6-stg-qa');
		frm.action = "https://s6-qa.samsung.com/aemapi/user/login_sso";
	}else if(target == 'p6-stg-pub') {
		insertUserConnectLog(operationUserId, 'p6-stg-pub');
		frm.action = "https://d6-live.samsung.com/aemapi/user/login_sso";
	}
	
	if(target == 'review-board' || target == 'jira-req') {
		frm.method = "get";
	}else{
		frm.method = "post";
	}
	if(target != 'p6-guide'){
		frm.target = "_blank";
		frm.submit();
	}
	return false;
}

function b2bAdmin(){
	var b2bUrl = "http://partnerlogin.samsungelectronics.com/common/main.jsp?urlUrl=modify&amp;returnUrl=" + location.href;
	document.location = b2bUrl;
}

function openLayerPopup(obj, type){
	if ($('.customlayerPopup').is(":visible")) {
		$('.customlayerPopup').hide();
	}
	var offset = $(obj).offset();
	$('#'+type).css("display", "block").offset({left : offset.left-100, top : offset.top+100 });
}

// ##############################################################
// Notice START
// ##############################################################

// 쿠키설정 등  생성된 NoticeModel 정보를 넣어준다. 
var noticeArr = [];

var NoticeModel = function (paramData) {
	
	if(!(this instanceof NoticeModel)) { return new NoticeModel(paramData); }

	var that = this;
	
	that.data = {
			noticeId : "",
			noticeTitle : "",
			noticeCont : "",
			noticeTypeCd : "",
			cookie : { today: {id:""},
						week: {id:""},
					}
	};

	$.extend(that.data,paramData);

	that.initialize = function(){
		// 쿠키가 존재 할때만 view
		if(!$.cookie(that.data.cookie.today.id) && !$.cookie(that.data.cookie.week.id)){
			$("body").append($(that.data.noticeCont));
		}
	} 
	that.initialize();
};

var setNotice = function (){

	$.ajax({
        type: 'GET',
        url: "/wds/notice/getNoticeList?mType=json",
        error      : function(xhr,st,err){
        	console.log(xhr);
        	console.log(st);
        	console.log(err);
	    },
	    success		: function(res, statusText, xhr, $form) {
	    	if(res.model.result =="SUCCESS"){
        		if(!!res.model.data){
        			$.each(res.model.data, function(index, item){   
            			var paramData  = {
            					noticeId : item.noticeId,
            					noticeTitle : item.noticeTitle,
            					noticeCont : item.noticeCont.replace("#NOTICE_ID#", " data='"+item.noticeId+"' " ),
            					noticeTypeCd : item.noticeTypeCd,
            					cookie : { today: {id:("today_"+item.noticeId+"_"+operationUserId)},
            								week: {id:("week_"+item.noticeId+"_"+operationUserId)},
            							}
            					
            			};

            			var notice = new NoticeModel(paramData);
            			noticeArr.push(notice);
        			});
        		}

        		$("div[name=wmcNotice]").on("click",".noticeBtnClick", function () {
            		
        			var p = $(this).parents("div[name=wmcNotice]");
        			var name = $(this).attr("name");

        			
        			// 쿠키 처리
        			$.each(noticeArr, function(index, item){

            			if( item.data.noticeId == p.attr("data")){
	        				if(name == "today"){
	        					// today 버튼 클릭시
	        					console.log(item.data.cookie.today.id);
	        					$.cookie(item.data.cookie.today.id, 'T', { expires: 1});
	        				}else if(name == "week"){
	        					// week 버튼 클릭시
	        					console.log(item.data.cookie.week.id);
	            				$.cookie(item.data.cookie.week.id, 'T', { expires: 7});
	            			}
            			}
        			});
        			
        			p.hide();
        		});


        		
            }
	    }
	});
};

//##############################################################
//Notice END
//##############################################################

$(document).ready(function (){
	imgHover(".wrap .header .top .loginPerson");
	imgHover(".wrap .contentsWrap .contentsBottom .goWds5");
	imgHover(".wrap .contentsWrap .contentsBottom .goWds6");
	
	insertUserConnectLog(operationUserId, 'wds-banner');
	
	
	$('.customlayerPopup .close', document).click(function() {
		$('.customlayerPopup').hide();
	});
	
	$('#btnResetRequest').click(function(){
		var options = "left=0, top=0, width=750, height=720, toolbar=no, status=no, scrollbars=no, menubar=no, resizable=no";
		var sname = "popup";
		window.open("/wds/sso/login/resetRequest.do?pageType=banner", sname, options);
	});
	//Notice set
	setNotice();
});
</script>

</head>
<body>
<form id="loginForm" name="loginForm" method="post">
	<input type="hidden" id="loginType" name="loginType" value="SSO" />
	<input type="hidden" id="key" name="key" value="542b565d8g595a1d5c633435332423382577363b51" />
	<input type="hidden" id="s_user_id" name="s_user_id" value="542b565d8g595a1d5c633435332423382577363b51" />
	<input type="hidden" id="s_user_email" name="s_user_email" value="m.malik@samsung.com" />
</form>
<div class="wrap"> 

							<dd><a href="javascript:goLink('p6-qa');"><h1>QA</h1></a></dd>

</div><!-- //wrap -->
<script type="text/javascript" src="/_Incapsula_Resource?SWJIYLWA=719d34d31c8e3a6e6fffd425f7e032f3&ns=2&cb=1956695686" async></script></body>
</html>